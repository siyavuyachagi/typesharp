# TypeSharp

Generate TypeScript types from C# models with ease! TypeSharp scans your ASP.NET Core projects and automatically generates TypeScript interfaces from your C# classes decorated with the `[TypeSharp]` attribute.

## Features

‚ú® **Automatic Type Generation** - Convert C# models to TypeScript interfaces  
üéØ **Custom Attribute Targeting** - Use `[TypeSharp]` or any custom attribute  
üîÑ **Nullable Support** - `string?` becomes `string | null`  
üì¶ **Array Handling** - Supports `List<T>`, `IEnumerable<T>`, and arrays  
üß¨ **Inheritance** - Preserves class inheritance with `extends`  
üé® **Naming Conventions** - Convert property names (camel, pascal, snake, kebab)  
üìÅ **Flexible Output** - Single file or multiple files  
üî¢ **Enum Support** - Converts C# enums to TypeScript string enums

## Installation

```bash
npm install typesharp --save-dev
```

## Quick Start

### 1. Decorate your C# models

```csharp
[TypeSharp]
public class User
{
    public int Id { get; set; }
    public string? Name { get; set; }
    public string Email { get; set; }
    public List<string> Roles { get; set; }
    public DateTime CreatedAt { get; set; }
}

[TypeSharp]
public enum UserRole
{
    Admin,
    User,
    Guest
}
```

### 2. Create a configuration file

```bash
npx typesharp init
```

This creates `typesharp.config.ts`:

```typescript
import { TypeSharpConfig } from 'typesharp';

const config: TypeSharpConfig = {
  targetPath: './Backend',
  outputPath: './src/types',
  targetAnnotation: 'TypeSharp',
  singleOutputFile: false,
  fileNamingConvention: 'kebab',
  namingConvention: 'camel'
};

export default config;
```

### 3. Generate TypeScript types

```bash
npx typesharp
```

Output (`src/types/user.ts`):

```typescript
/**
 * Auto-generated by TypeSharp
 * Generated at: 2024-12-12T10:30:00.000Z
 * Do not edit this file manually
 */

export interface User {
  id: number;
  name: string | null;
  email: string;
  roles: string[];
  createdAt: string;
}
```

## Configuration

### Configuration Options

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `targetPath` | `string` | *required* | Path to your C# project folder |
| `outputPath` | `string` | *required* | Where to generate TypeScript files |
| `targetAnnotation` | `string` | `'TypeSharp'` | C# attribute name to look for |
| `singleOutputFile` | `boolean` | `false` | Generate one file or multiple files |
| `fileNamingConvention` | `string` | `'kebab'` | File naming: `kebab`, `snake`, `camel`, `pascal` |
| `namingConvention` | `string` | `'camel'` | Property naming: `camel`, `pascal`, `snake`, `kebab` |

### Configuration File Formats

TypeSharp supports multiple configuration formats:

**TypeScript** (`typesharp.config.ts`):
```typescript
import { TypeSharpConfig } from 'typesharp';

const config: TypeSharpConfig = {
  targetPath: './Backend',
  outputPath: './src/types'
};

export default config;
```

**JavaScript** (`typesharp.config.js`):
```javascript
module.exports = {
  targetPath: './Backend',
  outputPath: './src/types'
};
```

**JSON** (`typesharp.config.json`):
```json
{
  "targetPath": "./Backend",
  "outputPath": "./src/types"
}
```

## CLI Commands

### Generate Types (Default)

```bash
npx typesharp
# or
npx typesharp generate
# or with custom config
npx typesharp generate --config ./custom-config.ts
```

### Initialize Config

```bash
# Create TypeScript config
npx typesharp init

# Create JavaScript config
npx typesharp init --format js

# Create JSON config
npx typesharp init --format json
```

## Usage in package.json

Add TypeSharp to your build scripts:

```json
{
  "scripts": {
    "generate-types": "typesharp",
    "dev": "typesharp && nuxt dev",
    "build": "typesharp && nuxt build"
  }
}
```

## Advanced Examples

### With Inheritance

**C#:**
```csharp
[TypeSharp]
public class BaseEntity
{
    public int Id { get; set; }
    public DateTime CreatedAt { get; set; }
}

[TypeSharp]
public class Product : BaseEntity
{
    public string Name { get; set; }
    public decimal Price { get; set; }
}
```

**Generated TypeScript:**
```typescript
export interface BaseEntity {
  id: number;
  createdAt: string;
}

export interface Product extends BaseEntity {
  name: string;
  price: number;
}
```

### Single Output File

**Config:**
```typescript
const config: TypeSharpConfig = {
  targetPath: './Backend',
  outputPath: './src/types',
  singleOutputFile: true
};
```

All types will be generated in `src/types/types.ts`

### Custom Naming Conventions

**Config:**
```typescript
const config: TypeSharpConfig = {
  targetPath: './Backend',
  outputPath: './src/types',
  fileNamingConvention: 'snake',    // user_model.ts
  namingConvention: 'pascal'         // UserName, not userName
};
```

## Type Mappings

| C# Type | TypeScript Type |
|---------|-----------------|
| `string` | `string` |
| `int`, `long`, `double`, `float`, `decimal` | `number` |
| `bool` | `boolean` |
| `DateTime`, `DateOnly`, `TimeOnly` | `string` |
| `Guid` | `string` |
| `List<T>`, `IEnumerable<T>`, `T[]` | `T[]` |
| `string?` | `string \| null` |

## Programmatic Usage

You can also use TypeSharp programmatically:

```typescript
import { generate } from 'typesharp';

async function generateTypes() {
  await generate('./path/to/config.ts');
}

generateTypes();
```

## Requirements

- Node.js >= 14
- TypeScript >= 4.5 (if using TypeScript config)

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

MIT ¬© Siyavuya Chagi

## Author

**Siyavuya Chagi (CeeJay)**  
- GitHub: [@siyavuyachagi](https://github.com/siyavuyachagi)
- Email: syavuya08@gmail.com

---

Built with ‚ù§Ô∏è in South Africa üáøüá¶